"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_react-core_register-app_ts"],{16730:(t,e,r)=>{r.d(e,{T:()=>n});var a=r(15345),o=r(86283);function n(t){if(!o.n4)return;let e=o.n4.querySelector("title"),r=o.n4.createElement("title");r.textContent=t,e?e.textContent!==t&&(e.replaceWith(r),(0,a.x)(t)):(o.n4.head.appendChild(r),(0,a.x)(t))}},95253:(t,e,r)=>{let a;r.d(e,{YT:()=>h,qP:()=>p,yM:()=>f});var o=r(88149),n=r(86058),i=r(44544),s=r(71643);let{getItem:l}=(0,i.Z)("localStorage"),c="dimension_",u=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let t=(0,o.n)("octolytics");delete t.baseContext,a=new n.R(t)}catch(t){}function d(t){let e=(0,o.n)("octolytics").baseContext||{};if(e)for(let[t,r]of(delete e.app_id,delete e.event_url,delete e.host,Object.entries(e)))t.startsWith(c)&&(e[t.replace(c,"")]=r,delete e[t]);let r=document.querySelector("meta[name=visitor-payload]");if(r){let t=JSON.parse(atob(r.content));Object.assign(e,t)}let a=new URLSearchParams(window.location.search);for(let[t,r]of a)u.includes(t.toLowerCase())&&(e[t]=r);return e.staff=(0,s.B)().toString(),Object.assign(e,t)}function h(t){a?.sendPageView(d(t))}function p(t,e={}){let r=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,o=r?{service:r}:{};for(let[t,r]of Object.entries(e))null!=r&&(o[t]=`${r}`);if(a){let e=t||"unknown";d(o),a.sendEvent(e,d(o))}}function f(t){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,JSON.stringify(e)]))}},24791:(t,e,r)=>{var a;r.d(e,{x:()=>a}),function(t){t.FETCH_THEN_TRANSITION="fetch-then-transition",t.TRANSITION_WHILE_FETCHING="transition-while-fetch",t.TRANSITION_WITHOUT_FETCH="transition-without-fetch"}(a||(a={}))},96843:(t,e,r)=>{r.d(e,{e:()=>DeferredRegistry});let DeferredRegistry=class DeferredRegistry{register(t,e){let r=this.registrationEntries[t];r?r.resolve?.(e):this.registrationEntries[t]={promise:Promise.resolve(e)}}getRegistration(t){var e;return(e=this.registrationEntries)[t]||(e[t]=new a),this.registrationEntries[t].promise}constructor(){this.registrationEntries={}}};let a=class Deferred{constructor(){this.promise=new Promise(t=>{this.resolve=t})}}},79953:(t,e,r)=>{r.d(e,{g:()=>M});var a=r(96843);let o=new a.e;async function n(t){let e=await o.getRegistration(t);return e()}var i=r(85893),s=r(76006),l=r(12599),c=r(67294),u=r(24791),d=r(28186),h=r(16730);let p=(t,e)=>null!==t&&null!==e&&t.pathname===e.pathname&&t.search===e.search&&!!e.hash,f=t=>{let e=404===t.httpStatus?"404 Page not found":500===t.httpStatus?"500 Internal server error":t.httpStatus?`Error ${t.httpStatus}`:"Error";return m(e)};function m(t){return document.body.classList.contains("logged-out")?`${t} \xb7 GitHub`:t}var g=r(86283);let y=class Navigator{setAppNavigationStateCallback(t){this.appNavigationStateCallback=t}update(t){Object.assign(this.state,t);let e=this.getAppNavigationState();this.appNavigationStateCallback?.(e)}getAppNavigationState(){let{location:t,error:e,navigateOnError:r,routeStateMap:a,appPayload:o,pendingNavigation:n}=this.state;return{location:t,error:e,navigateOnError:r,routeStateMap:a,appPayload:o,isLoading:!!n}}async handleHistoryUpdate(t){if("POP"!==t.action||history.state?.turboCount===this.state.turboCount){if(this.isHashNavigation(t)){this.navigateWithCurrentPayload(t);return}if("POP"!==t.action&&(0,d.LD)("react"),void 0!==this.state.routeStateMap[t.location.key])this.navigateFromHistory(t);else{let e=this.matchLocation(t.location);if(!e)throw Error("handleHistoryUpdate should only be called for matching routes");let[r,a]=e;if(a?.transitionType===u.x.TRANSITION_WHILE_FETCHING&&this.navigateWithoutPayload(t),a?.transitionType===u.x.TRANSITION_WITHOUT_FETCH){this.navigateWithoutPayload(t);return}this.enterLoadingState(t);let o=await a?.coreLoader({location:t.location,params:r?.params});if(t.location!==this.state.pendingNavigation?.update.location)return;if(history.state&&"POP"!==t.action){let{turbo:t,...e}=history.state;history.replaceState({...e,skipTurbo:!0},"",location.href)}switch(o.type){case"loaded":this.leaveLoadingStateWithRouteData(t,o.data,o.title);break;case"error":this.leaveLoadingStateWithError(t,o.error,!1);break;case"redirect":window.location.replace(o.url+location.hash);break;case"route-handled-error":this.leaveLoadingStateWithError(t,o.error,!0);break;default:throw Error(`Unexpected loader result type: ${o.type}`)}}}}matchLocation(t){let e,r;for(let a of this.routes)if(e=(0,l.LX)(a.path,t.pathname)){r=a;break}return e&&r?[e,r]:null}isHashNavigation(t){let e=this.state.location,r=t.location;return p(e,r)}navigateFromHistory(t){this.update({location:t.location,pendingNavigation:null,error:null})}enterLoadingState(t){this.update({pendingNavigation:{update:t}})}leaveLoadingStateWithError(t,e,r){this.update({location:t.location,error:e,pendingNavigation:null,navigateOnError:r})}navigateWithoutPayload(t){this.update({location:t.location,error:null})}navigateWithCurrentPayload(t){let e=this.state.location.key,r=e+t.location.hash,a={...t.location,key:r},o={...this.state.routeStateMap,[r]:this.state.routeStateMap[e]};this.update({...t,location:a,routeStateMap:o,error:null})}leaveLoadingStateWithRouteData(t,e,r){this.update({location:t.location,pendingNavigation:null,routeStateMap:e?{...this.state.routeStateMap,[t.location.key]:{type:"loaded",data:e,title:r}}:this.state.routeStateMap,error:null})}getRoutesText(){return this.routes.map(t=>t.path).join(", ")}constructor(t,e,r,a){this.routes=a;let o=this.matchLocation(t);if(!o)throw Error(`No route found for initial location: ${t.pathname} in [${this.getRoutesText()}]`);let[n,i]=o,{data:s,title:l}=i.loadFromEmbeddedData({embeddedData:e,location:t,params:n.params});this.state={location:t,routeStateMap:{[t.key]:{type:"loaded",data:s,title:l}},appPayload:r,pendingNavigation:null,error:null,navigateOnError:!1,turboCount:g.zu?.state?.turboCount}}};var v=r(81738),E=r(89250),b=r(72982),S=r(1343),R=r(77617),w=r(71643),x=r(95253);let N=(t,e,r,a)=>{(0,c.useEffect)(()=>{e||(t.key,(0,x.YT)({react_app:a}))},[a,t.key,e]);let o=(0,c.useRef)(void 0);(0,c.useEffect)(()=>{e||void 0!==o.current&&o.current===t.key||((0,d.sj)()?T(r):C(r),o.current=t.key)},[t.key,e,r])},T=t=>{t?(0,d.r_)():((0,d.TL)(),(0,d.BT)())},C=t=>{if(t)return;let e=function(){window.performance.measure(j);let t=window.performance.getEntriesByName(j),e=t.pop();return e?e.duration:null}();e&&(0,w.b)({requestUrl:window.location.href,distributionKey:"REACT_NAV_DURATION",distributionValue:Math.round(e),distributionTags:["REACT_NAV_HARD"]})},j="react_nav_duration";var k=r(65722);let _=new Map,A=!1;async function L(){let{session:t}=await r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js").then(r.bind(r,67852));window.addEventListener("popstate",()=>{let{scrollPosition:e}=t.history.getRestorationDataForIdentifier(t.history.restorationIdentifier)||{};e&&_.set(window.location.href,e)})}let I=g.iG?function(){(0,v.b)(()=>{let t=window.location.href,e=_.get(t);if(!e)return;let r=setTimeout(()=>{window.scrollTo(e.x,e.y)},0);return()=>{clearTimeout(r)}})}:k.Z;"function"==typeof afterEach&&afterEach(()=>{_.clear(),A=!1});var O=r(59112),P=r(88479);function D({appName:t,initialPath:e,embeddedData:r,routes:a,App:o,wasServerRendered:n,ssrError:s}){let l=(0,c.useRef)(),u=globalThis.window,{pathname:d,search:g,hash:w}=new URL(`${e}${u?.location.hash??""}`,u?.location.href??"https://github.com");l.current||(l.current=(0,O.l)({window:u,v5Compat:!0}));let x=l.current,{key:T,state:C}=x.location,[{location:j,error:k,routeStateMap:_,appPayload:A,navigateOnError:L,isLoading:D},{handleHistoryUpdate:W}]=function({initialLocation:t,embeddedData:e,routes:r}){let[a]=(0,c.useState)(()=>{let{appPayload:a,...o}=e;return new y(t,{...o,enabled_features:a?.enabled_features?a.enabled_features:{}},a,r)}),[o,n]=(0,c.useState)(()=>a.getAppNavigationState()),i=(0,c.useRef)(!1);i.current||(a.setAppNavigationStateCallback(n),i.current=!0);let s=(0,c.useCallback)(t=>{a.handleHistoryUpdate(t)},[a]);return[o,{handleHistoryUpdate:s}]}({initialLocation:{pathname:d,search:g,hash:w,key:T,state:C},appName:t,embeddedData:r,routes:a});return!function(t,e,r){let a=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(a.current||(a.current=r),!p(a.current,r)&&(e||t)){if(e){let t=f(e);(0,h.T)(t)}else t?.type==="loaded"&&t.title&&(0,h.T)(m(t.title))}a.current?.key!==r.key&&(a.current=r)},[e,t,r])}(_[j.key],k,j),!function(t,e){let r=(0,c.useRef)(void 0);(0,c.useEffect)(()=>{let a=e.pathname+e.search;if(void 0===r.current)r.current=a;else if(r.current!==a&&!t){let t=document.querySelector("[data-react-autofocus]");t||(t=document.querySelector("react-app h1")),t?.focus(),r.current=a}},[t,e.pathname,e.search])}(D,j),N(j,D,k,t),I(),(0,v.b)(()=>{let t=x.listen(W);return t},[x,W]),(0,i.jsx)(S.R,{appName:t,wasServerRendered:n,children:(0,i.jsx)(b.S,{children:(0,i.jsx)(P.W,{App:o,appPayload:A,error:k,history:x,location:j,navigateOnError:L,Router:E.F0,routes:a,routeStateMap:_,children:(0,i.jsx)(R.P,{ssrError:s})})})})}g.iG&&(A||(L(),A=!0));try{D.displayName||(D.displayName="ClientEntry")}catch{}var W=r(88003);let H=class ReactAppElement extends W.S{async getReactNode(t){let e=this.name,r=this.getAttribute("initial-path"),{App:a,routes:o}=await n(e);if(this.isLazy){let e=await fetch(r,{mode:"no-cors",cache:"no-cache",credentials:"include"}),{payload:a}=await e.json();t.payload=a}return(0,i.jsx)(D,{appName:e,initialPath:r,embeddedData:t,routes:o,App:a,wasServerRendered:this.hasSSRContent,ssrError:!!this.ssrError})}get isLazy(){return"true"===this.getAttribute("data-lazy")}constructor(...t){super(...t),this.nameAttribute="app-name"}};function M(t,e){o.register(t,e)}H=function(t,e,r,a){var o,n=arguments.length,i=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}([s.Ih],H)},34634:(t,e,r)=>{r.d(e,{A:()=>o});var a=r(67294);let o=(0,a.createContext)({})},17891:(t,e,r)=>{r.d(e,{E:()=>o,M:()=>n});var a=r(67294);let o=(0,a.createContext)(void 0);function n(){let t=(0,a.useContext)(o);return t}},89226:(t,e,r)=>{r.d(e,{V:()=>i});var a=r(67294),o=r(89250),n=r(34634);function i(){let t=(0,a.useContext)(n.A),e=(0,o.TH)();return t[e.key]}},73968:(t,e,r)=>{r.d(e,{T:()=>o});var a=r(89226);function o(){let t=(0,a.V)(),e=t&&"loaded"===t.type?t.data:void 0;return e?.payload}},51145:(t,e,r)=>{r.d(e,{Z:()=>l});var a=r(44544);let{getItem:o,setItem:n,removeItem:i}=(0,a.Z)("localStorage"),s="REACT_PROFILING_ENABLED",l={enable:()=>n(s,"true"),disable:()=>i(s),isEnabled:()=>!!o(s)}},81738:(t,e,r)=>{r.d(e,{b:()=>n});var a=r(86283),o=r(67294);let n=void 0!==a.iG?.document?.createElement?o.useLayoutEffect:o.useEffect},88479:(t,e,r)=>{r.d(e,{W:()=>f,h:()=>p});var a=r(85893),o=r(58989),n=r(89250),i=r(67294),s=r(28186),l=r(17891),c=r(73968);function u({App:t}){return!function(){let t=(0,c.T)(),e=(0,l.M)();(0,i.useEffect)(()=>{function r(){document.dispatchEvent(new CustomEvent("soft-nav:payload",{detail:{payload:t,appPayload:e}}))}return document.addEventListener(s.QE.INITIAL,r),()=>{document.removeEventListener(s.QE.INITIAL,r)}},[]),(0,i.useEffect)(()=>{document.dispatchEvent(new CustomEvent("soft-nav:payload",{detail:{payload:t,appPayload:e}}))},[e,t])}(),t?(0,a.jsx)(t,{children:(0,a.jsx)(n.j3,{})}):(0,a.jsx)(n.j3,{})}try{u.displayName||(u.displayName="AppWrapper")}catch{}var d=r(17551),h=r(34634);let p=(0,i.createContext)(null);function f({App:t,appPayload:e,children:r,error:i,history:s,location:c,navigateOnError:f,Router:m,routes:g,routeStateMap:y}){return(0,a.jsx)(o.i,{routes:g,history:s,children:i&&!f?(0,a.jsx)(d.m,{...i}):(0,a.jsx)(l.E.Provider,{value:e,children:(0,a.jsx)(p.Provider,{value:i,children:(0,a.jsx)(h.A.Provider,{value:y,children:(0,a.jsxs)(m,{location:c,navigator:s,children:[(0,a.jsx)(n.Z5,{children:(0,a.jsx)(n.AW,{element:(0,a.jsx)(u,{App:t}),children:g.map(({path:t,Component:e},r)=>(0,a.jsx)(n.AW,{path:t,element:(0,a.jsx)(e,{})},r))})}),r]})})})})})}try{p.displayName||(p.displayName="NavigationErrorContext")}catch{}try{f.displayName||(f.displayName="AppRouter")}catch{}},72982:(t,e,r)=>{r.d(e,{S:()=>ErrorBoundary});var a=r(85893),o=r(17551),n=r(67294);let ErrorBoundary=class ErrorBoundary extends n.Component{static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){"function"==typeof this.props.onError?this.props.onError(t):setTimeout(()=>{throw t})}render(){return this.state.error?this.props.fallback||(0,a.jsx)(o.m,{type:"httpError"}):this.props.children}constructor(t){super(t),this.state={error:null}}}},17551:(t,e,r)=>{r.d(e,{m:()=>s});var a=r(85893),o=r(75308),n=r(42483);let i={404:"Didn\u2019t find anything here!",500:"Looks like something went wrong!"};function s({httpStatus:t,type:e}){let r="fetchError"===e?"Looks like network is down!":i[t||500];return(0,a.jsxs)(o.Z,{as:"h1",tabIndex:-1,sx:{display:"flex",flexDirection:"column",minWidth:"100%",minHeight:"100%",alignItems:"center",justifyContent:"center"},children:["Error",t?(0,a.jsx)(n.Z,{sx:{fontSize:"144px",fontWeight:"bold",lineHeight:1},children:t}):null,(0,a.jsx)(n.Z,{sx:{fontSize:4,pt:2},children:r})]})}try{s.displayName||(s.displayName="ErrorPage")}catch{}},88003:(t,e,r)=>{r.d(e,{S:()=>ReactBaseElement});var a=r(85893),o=r(76006),n=r(20745),i=r(67294),s=r(51145);function l(t,e,r,a){var o,n=arguments.length,i=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}let ReactBaseElement=class ReactBaseElement extends HTMLElement{get name(){return this.getAttribute(this.nameAttribute)}get embeddedDataText(){let t=this.embeddedData?.textContent;if(!t)throw Error(`No embedded data provided for react element ${this.name}`);return t}get hasSSRContent(){return"true"===this.getAttribute("data-ssr")}connectedCallback(){this.renderReact()}disconnectedCallback(){this.root?.unmount(),this.root=void 0}async renderReact(){let t={createRoot:n.s,hydrateRoot:n.a};s.Z.isEnabled()&&(t=await this.getReactDomWithProfiling());let e=JSON.parse(this.embeddedDataText),r=this.ssrError?.textContent,o=await this.getReactNode(e),l=(0,a.jsx)(i.StrictMode,{children:o});if(r&&this.logSSRError(r),this.hasSSRContent){let e=this.querySelector('style[data-styled="true"]');e&&document.head.appendChild(e),this.root=t.hydrateRoot(this.reactRoot,l,{onRecoverableError:()=>{}}),e&&requestIdleCallback(()=>{e.parentElement?.removeChild(e)})}else this.root=t.createRoot(this.reactRoot),this.root.render(l);this.classList.add("loaded")}getReactDomWithProfiling(){return r.e("react-profiling").then(r.t.bind(r,62518,19))}logSSRError(t){let e=JSON.parse(t),r=function(t){if(!t.stacktrace)return"";let e="\n ",r=t.stacktrace.map(t=>{let{function:r,filename:a,lineno:o,colno:n}=t,i=`${e} at ${r} (${a}:${o}:${n})`;return e=" ",i});return r.join("\n")}(e);console.error("Error During Alloy SSR:",`${e.type}: ${e.value}
`,e,r)}};l([o.fA],ReactBaseElement.prototype,"embeddedData",void 0),l([o.fA],ReactBaseElement.prototype,"ssrError",void 0),l([o.fA],ReactBaseElement.prototype,"reactRoot",void 0)}}]);
//# sourceMappingURL=ui_packages_react-core_register-app_ts-65aadb1f851f.js.map